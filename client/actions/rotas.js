// curl 'http://brighthr-api-dev.azurewebsites.net/api/account/postValidateUser' -H 'Pragma: no-cache' -H 'Origin: http://localhost:9000' -H 'Accept-Encoding: gzip, deflate' -H 'Accept-Language: en-GB,en-US;q=0.8,en;q=0.6' -H 'User-Agent: Mozilla/5.0 (Macintosh; Intel Mac OS X 10_12_0) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/55.0.2883.95 Safari/537.36' -H 'Content-Type: application/x-www-form-urlencoded' -H 'Accept: application/json, text/plain, */*' -H 'Cache-Control: no-cache' -H 'Referer: http://localhost:9000/login' -H 'Connection: keep-alive' --data 'username=clark_bright%40mailinator.com&password=appleapple' --compressed
// curl 'http://brighthr-api-dev.azurewebsites.net/api/account/postValidateUser' -H 'Pragma: no-cache' -H 'Origin: http://localhost:9000' -H 'Accept-Encoding: gzip, deflate' -H 'Accept-Language: en-GB,en-US;q=0.8,en;q=0.6' -H 'User-Agent: Mozilla/5.0 (Macintosh; Intel Mac OS X 10_12_0) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/55.0.2883.95 Safari/537.36' -H 'content-type: application/x-www-form-urlencoded' -H 'Accept: application/json, text/plain, */*' -H 'Cache-Control: no-cache' -H 'Referer: http://localhost:9000/login' -H 'Connection: keep-alive' --data $'------WebKitFormBoundaryBfFaz4PwvQuIz1Wi--\r\n' --compressed


// curl 'http://brighthr-api-dev.azurewebsites.net/api/absence/getAllowanceRemainingForSpecifiedHolidayYear?holidayYear=2017-01-20T09:55:11.835Z&userId=120' -H 'Pragma: no-cache' -H 'Origin: http://localhost:9000' -H 'Accept-Encoding: gzip, deflate, sdch' -H 'Accept-Language: en-GB,en-US;q=0.8,en;q=0.6' -H 'Authorization: bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJVc2VySWQiOjEyMCwiQ29tcGFueUlkIjoyMywiUm9sZUlkcyI6WzIsNF0sIkV4cGlyeURhdGUiOiJcL0RhdGUoMTQ4NDkzNDA5MDE0OClcLyJ9.dmWa3ihXXkMV5AN9BOt3MdO_cn8Mvg-tCo6js44FL7Y' -H 'Accept: application/json, text/plain, */*' -H 'Cache-Control: no-cache' -H 'User-Agent: Mozilla/5.0 (Macintosh; Intel Mac OS X 10_12_0) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/55.0.2883.95 Safari/537.36' -H 'Connection: keep-alive' -H 'Referer: http://localhost:9000/dashboard' --compressed
// curl 'http://brighthr-api-dev.azurewebsites.net/api/absence/getUnapprovedRequestsWithUserDetails' -H 'Pragma: no-cache' -H 'Origin: http://localhost:9000' -H 'Accept-Encoding: gzip, deflate, sdch' -H 'Accept-Language: en-GB,en-US;q=0.8,en;q=0.6' -H 'Authorization: bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJVc2VySWQiOjEyMCwiQ29tcGFueUlkIjoyMywiUm9sZUlkcyI6WzIsNF0sIkV4cGlyeURhdGUiOiJcL0RhdGUoMTQ4NDkzNDA5MDE0OClcLyJ9.dmWa3ihXXkMV5AN9BOt3MdO_cn8Mvg-tCo6js44FL7Y' -H 'Accept: application/json, text/plain, */*' -H 'Cache-Control: no-cache' -H 'User-Agent: Mozilla/5.0 (Macintosh; Intel Mac OS X 10_12_0) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/55.0.2883.95 Safari/537.36' -H 'Connection: keep-alive' -H 'Referer: http://localhost:9000/dashboard' --compressed
// curl 'http://brighthr-api-dev.azurewebsites.net/api/absence/getNextHolidayForUser?userId=120' -H 'Pragma: no-cache' -H 'Origin: http://localhost:9000' -H 'Accept-Encoding: gzip, deflate, sdch' -H 'Accept-Language: en-GB,en-US;q=0.8,en;q=0.6' -H 'Authorization: bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJVc2VySWQiOjEyMCwiQ29tcGFueUlkIjoyMywiUm9sZUlkcyI6WzIsNF0sIkV4cGlyeURhdGUiOiJcL0RhdGUoMTQ4NDkzNDA5MDE0OClcLyJ9.dmWa3ihXXkMV5AN9BOt3MdO_cn8Mvg-tCo6js44FL7Y' -H 'Accept: application/json, text/plain, */*' -H 'Cache-Control: no-cache' -H 'User-Agent: Mozilla/5.0 (Macintosh; Intel Mac OS X 10_12_0) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/55.0.2883.95 Safari/537.36' -H 'Connection: keep-alive' -H 'Referer: http://localhost:9000/dashboard' --compressed
// curl 'http://brighthr-api-dev.azurewebsites.net/rotas/rota?v=1' -H 'Pragma: no-cache' -H 'Origin: http://localhost:9000' -H 'Accept-Encoding: gzip, deflate, sdch' -H 'Accept-Language: en-GB,en-US;q=0.8,en;q=0.6' -H 'Authorization: bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJVc2VySWQiOjEyMCwiQ29tcGFueUlkIjoyMywiUm9sZUlkcyI6WzIsNF0sIkV4cGlyeURhdGUiOiJcL0RhdGUoMTQ4NDkzNDA5MDE0OClcLyJ9.dmWa3ihXXkMV5AN9BOt3MdO_cn8Mvg-tCo6js44FL7Y' -H 'Accept: application/json, text/plain, */*' -H 'Cache-Control: no-cache' -H 'User-Agent: Mozilla/5.0 (Macintosh; Intel Mac OS X 10_12_0) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/55.0.2883.95 Safari/537.36' -H 'Connection: keep-alive' -H 'Referer: http://localhost:9000/rota-planner' --compressed
// curl 'http://brighthr-api-dev.azurewebsites.net/api/usersettings/rota?v=1' -H 'Pragma: no-cache' -H 'Origin: http://localhost:9000' -H 'Accept-Encoding: gzip, deflate, sdch' -H 'Accept-Language: en-GB,en-US;q=0.8,en;q=0.6' -H 'Authorization: bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJVc2VySWQiOjEyMCwiQ29tcGFueUlkIjoyMywiUm9sZUlkcyI6WzIsNF0sIkV4cGlyeURhdGUiOiJcL0RhdGUoMTQ4NDkzNDA5MDE0OClcLyJ9.dmWa3ihXXkMV5AN9BOt3MdO_cn8Mvg-tCo6js44FL7Y' -H 'Accept: application/json, text/plain, */*' -H 'Cache-Control: no-cache' -H 'User-Agent: Mozilla/5.0 (Macintosh; Intel Mac OS X 10_12_0) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/55.0.2883.95 Safari/537.36' -H 'Connection: keep-alive' -H 'Referer: http://localhost:9000/dashboard' --compressed
// curl 'http://brighthr-api-dev.azurewebsites.net/rotas/Rota/20' -H 'Pragma: no-cache' -H 'Origin: http://localhost:9000' -H 'Accept-Encoding: gzip, deflate, sdch' -H 'Accept-Language: en-GB,en-US;q=0.8,en;q=0.6' -H 'Authorization: bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJVc2VySWQiOjEyMCwiQ29tcGFueUlkIjoyMywiUm9sZUlkcyI6WzIsNF0sIkV4cGlyeURhdGUiOiJcL0RhdGUoMTQ4NDkzNDA5MDE0OClcLyJ9.dmWa3ihXXkMV5AN9BOt3MdO_cn8Mvg-tCo6js44FL7Y' -H 'Accept: application/json, text/plain, */*' -H 'Cache-Control: no-cache' -H 'User-Agent: Mozilla/5.0 (Macintosh; Intel Mac OS X 10_12_0) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/55.0.2883.95 Safari/537.36' -H 'Connection: keep-alive' -H 'Referer: http://localhost:9000/rota-planner' --compressed
// curl 'http://brighthr-api-dev.azurewebsites.net/rotas/rota/availability?v=1' -H 'Pragma: no-cache' -H 'Origin: http://localhost:9000' -H 'Accept-Encoding: gzip, deflate, sdch' -H 'Accept-Language: en-GB,en-US;q=0.8,en;q=0.6' -H 'Authorization: bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJVc2VySWQiOjEyMCwiQ29tcGFueUlkIjoyMywiUm9sZUlkcyI6WzIsNF0sIkV4cGlyeURhdGUiOiJcL0RhdGUoMTQ4NDkzNDA5MDE0OClcLyJ9.dmWa3ihXXkMV5AN9BOt3MdO_cn8Mvg-tCo6js44FL7Y' -H 'Accept: application/json, text/plain, */*' -H 'Cache-Control: no-cache' -H 'User-Agent: Mozilla/5.0 (Macintosh; Intel Mac OS X 10_12_0) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/55.0.2883.95 Safari/537.36' -H 'Connection: keep-alive' -H 'Referer: http://localhost:9000/rota-planner' --compressed

export const getRotasInProgress = () => ({
    type: 'get-rotas-progressing'
});

export const getRotasSuccess = (rotas) => ({
    type: 'get-rotas-success',
    rotas
});

export const getRotasFailure = (err) => ({
    type: 'get-rotas-faliure',
    err
});

export const loadRotas = () => dispatch => {
    dispatch(getRotasInProgress());
    fetch('http://brighthr-api-dev.azurewebsites.net/rotas/rota?v=1', {
        method: 'GET',
        headers: {
            Accept: 'application/json, text/plain, */*',
            Authorization: `bearer ${localStorage.getItem('token')}`
        }
    })
    .then((response) => {
        if (response.status === 200) {
            return response.json();
        }
        throw response;
    }).then((response) => {
        dispatch(getRotasSuccess(response));
    }).catch((err) => {
        dispatch(getRotasFailure(err));
    });
};
